<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
    <Script file="vPeddlerOptions.lua"/>
    
    <!-- Main Options Frame -->
    <Frame name="vPeddlerOptionsFrame" toplevel="true" movable="true" enableMouse="true" parent="UIParent" hidden="true">
        <Size>
            <AbsDimension x="340" y="450"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <BackgroundInsets>
                <AbsInset left="11" right="12" top="12" bottom="11"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="32"/>
            </EdgeSize>
        </Backdrop>
        <Layers>
            <Layer level="ARTWORK">
                <Texture name="$parentHeader" file="Interface\DialogFrame\UI-DialogBox-Header">
                    <Size>
                        <AbsDimension x="300" y="64"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset>
                                <AbsDimension x="0" y="12"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>
                <FontString name="$parentHeaderText" inherits="GameFontNormal" text="vPeddler Options">
                    <Anchors>
                        <Anchor point="TOP" relativeTo="$parentHeader">
                            <Offset>
                                <AbsDimension x="0" y="-14"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <!-- Enable/Disable Addon Checkbox -->
            <CheckButton name="vPeddlerEnabledCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="20" y="-40"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_EnabledToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Auto Repair Checkbox -->
            <CheckButton name="vPeddlerAutoRepairCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerEnabledCheckbox" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-30"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_AutoRepairToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Auto Sell Checkbox -->
            <CheckButton name="vPeddlerAutoSellCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerAutoRepairCheckbox" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-30"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_AutoSellToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Auto Flag Grays Checkbox -->
            <CheckButton name="vPeddlerAutoFlagGraysCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerAutoSellCheckbox" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-30"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_AutoFlagGraysToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Manual Sell Button Checkbox -->
            <CheckButton name="vPeddlerManualSellButtonCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerAutoSellCheckbox" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-30"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_ManualSellButtonToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Icon Size Slider -->
            <Slider name="vPeddlerIconSizeSlider" inherits="OptionsSliderTemplate" minValue="1" maxValue="3" valueStep="1">
                <Size>
                    <AbsDimension x="200" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerManualSellButtonCheckbox" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-50"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        getglobal(this:GetName().."Text"):SetText("Icon Size");
                        getglobal(this:GetName().."Low"):SetText("Small");
                        getglobal(this:GetName().."High"):SetText("Large");
                    </OnLoad>
                    <OnValueChanged>
                        vPeddlerOptions_IconSizeChanged();
                    </OnValueChanged>
                </Scripts>
            </Slider>

            <!-- Add Outline Checkbox -->
            <CheckButton name="vPeddlerIconOutlineCheckbox" inherits="OptionsCheckButtonTemplate">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="vPeddlerIconSizeSlider" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="10" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_OutlineToggle();
                    </OnClick>
                </Scripts>
            </CheckButton>
            
            <!-- Icon Transparency Slider -->
            <Slider name="vPeddlerIconAlphaSlider" inherits="OptionsSliderTemplate" minValue="0.1" maxValue="1" valueStep="0.05">
                <Size>
                    <AbsDimension x="200" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerIconSizeSlider" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-45"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        getglobal(this:GetName().."Text"):SetText("Icon Transparency");
                        getglobal(this:GetName().."Low"):SetText("Dim");
                        getglobal(this:GetName().."High"):SetText("Bright");
                    </OnLoad>
                    <OnValueChanged>
                        vPeddlerOptions_IconAlphaChanged();
                    </OnValueChanged>
                </Scripts>
            </Slider>
            
            <!-- Icon Position Label -->
            <Frame name="vPeddlerIconPositionFrame">
                <Size>
                    <AbsDimension x="100" y="100"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
                        <Offset>
                            <AbsDimension x="-20" y="-40"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="$parentText" inherits="GameFontNormalSmall" text="Icon Position:">
                            <Anchors>
                                <Anchor point="BOTTOM" relativeTo="$parent" relativePoint="TOP">
                                    <Offset>
                                        <AbsDimension x="0" y="-2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Frames>
                    <!-- Top Left Button -->
                    <Button name="vPeddlerIconPosTLButton" inherits="UIPanelButtonTemplate" text="TL">
                        <Size>
                            <AbsDimension x="30" y="22"/>
                        </Size>
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
                                <Offset>
                                    <AbsDimension x="5" y="-5"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                vPeddlerOptions_IconPositionChange("TOPLEFT");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <!-- Top Right Button -->
                    <Button name="vPeddlerIconPosTRButton" inherits="UIPanelButtonTemplate" text="TR">
                        <Size>
                            <AbsDimension x="30" y="22"/>
                        </Size>
                        <Anchors>
                            <Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
                                <Offset>
                                    <AbsDimension x="-5" y="-5"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                vPeddlerOptions_IconPositionChange("TOPRIGHT");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <!-- Center Button -->
                    <Button name="vPeddlerIconPosCButton" inherits="UIPanelButtonTemplate" text="C">
                        <Size>
                            <AbsDimension x="30" y="22"/>
                        </Size>
                        <Anchors>
                            <Anchor point="CENTER" relativeTo="$parent" relativePoint="CENTER">
                                <Offset>
                                    <AbsDimension x="0" y="0"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                vPeddlerOptions_IconPositionChange("CENTER");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <!-- Bottom Left Button -->
                    <Button name="vPeddlerIconPosBLButton" inherits="UIPanelButtonTemplate" text="BL">
                        <Size>
                            <AbsDimension x="30" y="22"/>
                        </Size>
                        <Anchors>
                            <Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="BOTTOMLEFT">
                                <Offset>
                                    <AbsDimension x="5" y="5"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                vPeddlerOptions_IconPositionChange("BOTTOMLEFT");
                            </OnClick>
                        </Scripts>
                    </Button>

                    <!-- Bottom Right Button -->
                    <Button name="vPeddlerIconPosBRButton" inherits="UIPanelButtonTemplate" text="BR">
                        <Size>
                            <AbsDimension x="30" y="22"/>
                        </Size>
                        <Anchors>
                            <Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT">
                                <Offset>
                                    <AbsDimension x="-5" y="5"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                vPeddlerOptions_IconPositionChange("BOTTOMRIGHT");
                            </OnClick>
                        </Scripts>
                    </Button>
                </Frames>
            </Frame>
            
            <!-- Modifier Key Dropdown -->
            <Frame name="vPeddlerModifierKeyDropdown" inherits="UIDropDownMenuTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerIconAlphaSlider" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="-15" y="-25"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        UIDropDownMenu_SetWidth(120);
                        UIDropDownMenu_Initialize(this, vPeddlerOptions_ModifierKeyDropdown_Initialize);
                        UIDropDownMenu_SetText("Alt Key", vPeddlerModifierKeyDropdown);
                    </OnLoad>
                </Scripts>
            </Frame>
            
            <Frame name="vPeddlerModifierKeyLabel">
                <Size>
                    <AbsDimension x="140" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativeTo="vPeddlerModifierKeyDropdown" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="20" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="$parentText" inherits="GameFontNormalSmall" text="Modifier Key:">
                            <Anchors>
                                <Anchor point="LEFT"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
            
            <!-- Icon Texture Selection -->
            <Frame name="vPeddlerIconTextureDropdown" inherits="UIDropDownMenuTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="vPeddlerModifierKeyDropdown" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-25"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        UIDropDownMenu_SetWidth(120);
                        UIDropDownMenu_Initialize(this, vPeddlerOptions_IconTextureDropdown_Initialize);
                        UIDropDownMenu_SetText("Gold Coin", vPeddlerIconTextureDropdown);
                    </OnLoad>
                </Scripts>
            </Frame>
            
            <Frame name="vPeddlerIconTextureLabel">
                <Size>
                    <AbsDimension x="140" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativeTo="vPeddlerIconTextureDropdown" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="20" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="$parentText" inherits="GameFontNormalSmall" text="Icon Texture:">
                            <Anchors>
                                <Anchor point="LEFT"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
            
            <!-- Icon Preview -->
            <Frame name="vPeddlerIconPreview">
                <Size>
                    <AbsDimension x="40" y="40"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="vPeddlerIconTextureDropdown" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="-10" y="2"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <Texture name="vPeddlerIconPreviewTexture" file="Interface\AddOns\vPeddler\coins.tga">
                            <Size>
                                <AbsDimension x="32" y="32"/>
                            </Size>
                            <Anchors>
                                <Anchor point="CENTER"/>
                            </Anchors>
                        </Texture>
                    </Layer>
                </Layers>
            </Frame>
            
            <!-- Close Button -->
            <Button name="vPeddlerOptionsCloseButton" inherits="UIPanelButtonTemplate" text="Close">
                <Size>
                    <AbsDimension x="80" y="22"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT">
                        <Offset>
                            <AbsDimension x="-20" y="15"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        HideUIPanel(vPeddlerOptionsFrame);
                    </OnClick>
                </Scripts>
            </Button>
            
            <!-- Reset Button -->
            <Button name="vPeddlerOptionsResetButton" inherits="UIPanelButtonTemplate" text="Defaults">
                <Size>
                    <AbsDimension x="80" y="22"/>
                </Size>
                <Anchors>
                    <Anchor point="RIGHT" relativeTo="vPeddlerOptionsCloseButton" relativePoint="LEFT">
                        <Offset>
                            <AbsDimension x="-5" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnClick>
                        vPeddlerOptions_ResetDefaults();
                    </OnClick>
                </Scripts>
            </Button>
        </Frames>
        <Scripts>
            <OnLoad>
                vPeddlerOptions_OnLoad();
            </OnLoad>
            <OnMouseDown>
                if (button == "LeftButton") then
                    this:StartMoving();
                end
            </OnMouseDown>
            <OnMouseUp>
                if (button == "LeftButton") then
                    this:StopMovingOrSizing();
                end
            </OnMouseUp>
            <OnShow>
                vPeddlerOptions_OnShow();
            </OnShow>
        </Scripts>
    </Frame>
</Ui>